<!DOCTYPE html>

<html lang="en-US" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>FindMatlab &mdash; CMake 4.2.20251020-g4fe23c0 Documentation</title>

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a3862c66" />
    <link rel="stylesheet" type="text/css" href="../_static/cmake.css?v=4d06bd55" />
    
    <script src="../_static/documentation_options.js?v=90fbe92e"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="canonical" href="https://projects.localizethedocs.org/cmake-docs-l10n/module/FindMatlab.html" />
    <link rel="icon" href="../_static/cmake-favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="FindMFC" href="FindMFC.html" />
    <link rel="prev" title="FindLua51" href="FindLua51.html" />

 

    <script type="text/javascript" src="../ltd-provenance.js"></script>
    <script type="text/javascript" src="../ltd-current.js"></script>
    <script type="text/javascript" src="../../../ltd-config.js"></script>
    <script type="text/javascript" src="../../../ltd-flyout.js"></script>

  </head><body>
    <input id="sidebar-check" type="checkbox" />
    <label id="sidebar-overlay" for="sidebar-check"></label>



    <div class="related relbar1" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="FindMFC.html" title="FindMFC"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="FindLua51.html" title="FindLua51"
             accesskey="P">previous</a> |</li>
  <li>
    <label class="sidebar-toggle" for="sidebar-check"></label>
  </li>
  <li class="rootlink">
    <img src="../_static/cmake-logo-16.png" width="16" height="16" alt=""/>
    <a href="https://cmake.org/">CMake 4.2.20251020-g4fe23c0</a>
    <span class="reldelim1"> &#187;</span>
  </li>
  <li>
    <a href="../index.html">Documentation</a> &#187;
  </li>

          <li class="nav-item nav-item-1"><a href="../manual/cmake-modules.7.html" accesskey="U">cmake-modules(7)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">FindMatlab</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="findmatlab">
<span id="module:FindMatlab"></span><h1>FindMatlab<a class="headerlink" href="#findmatlab" title="Link to this heading">¶</a></h1>
<p>Finds MATLAB or MATLAB Compiler Runtime (MCR) and provides its tools,
libraries and compilers to CMake:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">find_package(</span><span class="nb">Matlab</span><span class="w"> </span><span class="p">[</span><span class="nv">&lt;version&gt;</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="no">COMPONENTS</span><span class="w"> </span><span class="nv">&lt;components&gt;...</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="no">REGISTRY_VIEW</span><span class="w"> </span><span class="nv">&lt;view&gt;</span><span class="p">]</span><span class="w"> </span><span class="p">[...]</span><span class="nf">)</span>
</pre></div>
</div>
<p>The primary purpose of this module is to find the libraries associated with
MATLAB or the MCR in order to be able to build MATLAB extensions (MEX files).
It can also be used:</p>
<ul class="simple">
<li><p>to run specific commands in MATLAB in case MATLAB is available</p></li>
<li><p>for declaring MATLAB unit tests</p></li>
<li><p>to retrieve various information from MATLAB (MEX extensions, versions and
release queries, ...)</p></li>
</ul>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.12: </span>MATLAB Compiler Runtime (MCR) support.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.30: </span>Support for specifying a version range to <span class="target" id="index-0-command:find_package"></span><a class="reference internal" href="../command/find_package.html#command:find_package" title="find_package"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">find_package()</span></code></a>,
support for specifying <code class="docutils literal notranslate"><span class="pre">REGISTRY_VIEW</span></code> argument to
<span class="target" id="index-1-command:find_package"></span><a class="reference internal" href="../command/find_package.html#command:find_package" title="find_package"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">find_package()</span></code></a>,
<span class="target" id="index-0-command:matlab_extract_all_installed_versions_from_registry"></span><a class="reference internal" href="#command:matlab_extract_all_installed_versions_from_registry" title="matlab_extract_all_installed_versions_from_registry"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_extract_all_installed_versions_from_registry()</span></code></a> and
<span class="target" id="index-0-command:matlab_get_all_valid_matlab_roots_from_registry"></span><a class="reference internal" href="#command:matlab_get_all_valid_matlab_roots_from_registry" title="matlab_get_all_valid_matlab_roots_from_registry"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_get_all_valid_matlab_roots_from_registry()</span></code></a> commands.
The default behavior remained unchanged, by using the registry view
<code class="docutils literal notranslate"><span class="pre">TARGET</span></code>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The version given to the <span class="target" id="index-2-command:find_package"></span><a class="reference internal" href="../command/find_package.html#command:find_package" title="find_package"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">find_package()</span></code></a> argument is the MATLAB
<em>version</em>, which should not be confused with the MATLAB <em>release name</em>
(e.g. <code class="docutils literal notranslate"><span class="pre">R2023b</span></code>).  The <span class="target" id="index-0-command:matlab_get_version_from_release_name"></span><a class="reference internal" href="#command:matlab_get_version_from_release_name" title="matlab_get_version_from_release_name"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_get_version_from_release_name()</span></code></a>
and <span class="target" id="index-0-command:matlab_get_release_name_from_version"></span><a class="reference internal" href="#command:matlab_get_release_name_from_version" title="matlab_get_release_name_from_version"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_get_release_name_from_version()</span></code></a> commands provide a
mapping between the release name and the version.</p>
</div>
<section id="components">
<h2>Components<a class="headerlink" href="#components" title="Link to this heading">¶</a></h2>
<p>This module supports optional components which can be specified using the
<span class="target" id="index-3-command:find_package"></span><a class="reference internal" href="../command/find_package.html#command:find_package" title="find_package"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">find_package()</span></code></a> command:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">find_package(</span><span class="nb">Matlab</span><span class="w"> </span><span class="p">[</span><span class="no">COMPONENTS</span><span class="w"> </span><span class="nv">&lt;components&gt;...</span><span class="p">]</span><span class="nf">)</span>
</pre></div>
</div>
<p>Supported components include:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">ENG_LIBRARY</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Finds the <code class="docutils literal notranslate"><span class="pre">ENG</span></code> library of MATLAB.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MAT_LIBRARY</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.7.</span></p>
</div>
<p>Finds the <code class="docutils literal notranslate"><span class="pre">MAT</span></code> library of MATLAB.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MAIN_PROGRAM</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Finds the MATLAB binary program.  Note that this component is not
available on the MCR version, and will yield an error if the MCR is found
instead of the regular MATLAB installation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MEX_COMPILER</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Finds the MEX compiler.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MCC_COMPILER</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.13.</span></p>
</div>
<p>Finds the MCC compiler, included with the MATLAB Compiler add-on.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SIMULINK</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Finds the Simulink environment.</p>
</dd>
</dl>
<section id="implicitly-found-components">
<h3>Implicitly Found Components<a class="headerlink" href="#implicitly-found-components" title="Link to this heading">¶</a></h3>
<p>The following components are always found unconditionally, without needing
to be specified explicitly:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">MX_LIBRARY</span></code></dt><dd><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.14: </span>This component has been removed and is now always found unconditionally.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Finds the MATLAB mx library.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ENGINE_LIBRARY</span></code></dt><dd><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.14: </span>This component has been removed and is now always found unconditionally.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.13.</span></p>
</div>
<p>Finds the MATLAB engine library.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DATAARRAY_LIBRARY</span></code></dt><dd><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.14: </span>This component has been removed and is now always found unconditionally.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.13.</span></p>
</div>
<p>Finds the C++ MATLAB data array library.</p>
</dd>
</dl>
<p>If no components are specified, the module looks for the <code class="docutils literal notranslate"><span class="pre">MX_LIBRARY</span></code>,
<code class="docutils literal notranslate"><span class="pre">ENGINE_LIBRARY</span></code>, and <code class="docutils literal notranslate"><span class="pre">DATAARRAY_LIBRARY</span></code> by default.</p>
</section>
</section>
<section id="imported-targets">
<h2>Imported Targets<a class="headerlink" href="#imported-targets" title="Link to this heading">¶</a></h2>
<p>This module provides the following <a class="reference internal" href="../manual/cmake-buildsystem.7.html#imported-targets"><span class="std std-ref">Imported Targets</span></a>:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab::mex</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.22.</span></p>
</div>
<p>Target encapsulating the <code class="docutils literal notranslate"><span class="pre">mex</span></code> library usage requirements, always
available for MATLAB installations.  Available for MCR installations if
provided by MCR.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab::mx</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.22.</span></p>
</div>
<p>Target encapsulating the usage requirements of the mx library of MATLAB
(arrays), always available for MATLAB installations.  Available for MCR
installations if provided by MCR.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab::eng</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.22.</span></p>
</div>
<p>Target encapsulating the MATLAB engine library usage requirements.
Available only if the <code class="docutils literal notranslate"><span class="pre">ENG_LIBRARY</span></code> component is requested.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab::mat</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.22.</span></p>
</div>
<p>Target encapsulating the MATLAB matrix library usage requirements.
Available only if the <code class="docutils literal notranslate"><span class="pre">MAT_LIBRARY</span></code> component is requested.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab::MatlabEngine</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.22.</span></p>
</div>
<p>Target encapsulating the MATLAB C++ engine library usage requirements,
always available for MATLAB R2018a and newer.  Available for MCR
installations if provided by MCR.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab::MatlabDataArray</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.22.</span></p>
</div>
<p>Target encapsulating the MATLAB C++ data array library usage requirements,
always available for MATLAB R2018a and newer.  Available for MCR
installations if provided by MCR.</p>
</dd>
</dl>
</section>
<section id="result-variables">
<h2>Result Variables<a class="headerlink" href="#result-variables" title="Link to this heading">¶</a></h2>
<p>This module defines the following variables:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_FOUND</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Boolean indicating whether the (requested version of) MATLAB installation
was found.  All variables below are defined if MATLAB is found.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_VERSION</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.27.</span></p>
</div>
<p>The numerical version (e.g. <code class="docutils literal notranslate"><span class="pre">23.2.0</span></code>) of MATLAB found.  Not to be
confused with MATLAB release name (e.g. <code class="docutils literal notranslate"><span class="pre">R2023b</span></code>) that can be obtained
with <span class="target" id="index-1-command:matlab_get_release_name_from_version"></span><a class="reference internal" href="#command:matlab_get_release_name_from_version" title="matlab_get_release_name_from_version"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_get_release_name_from_version()</span></code></a>.</p>
<p>When a MATLAB/MCR installation is found automatically and the
<code class="docutils literal notranslate"><span class="pre">Matlab_VERSION</span></code> is not given, the version is queried from MATLAB
directly (on Windows this may pop up a MATLAB window) or from the MCR
installation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_ROOT_DIR</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>The final root of the MATLAB installation determined by this module.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_MAIN_PROGRAM</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>The MATLAB binary program.  Available only if the component <code class="docutils literal notranslate"><span class="pre">MAIN_PROGRAM</span></code>
is given in the <span class="target" id="index-4-command:find_package"></span><a class="reference internal" href="../command/find_package.html#command:find_package" title="find_package"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">find_package()</span></code></a> argument.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_INCLUDE_DIRS</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>The path of the MATLAB libraries headers.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_MEX_LIBRARY</span></code></dt><dd><p>Library for MEX, always available for MATLAB installations.  Available
for MCR installations if provided by MCR.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_MX_LIBRARY</span></code></dt><dd><p>The mx library of MATLAB (arrays), always available for MATLAB
installations.  Available for MCR installations if provided by MCR.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_ENG_LIBRARY</span></code></dt><dd><p>MATLAB engine library.  Available only if the component <code class="docutils literal notranslate"><span class="pre">ENG_LIBRARY</span></code>
is requested.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_MAT_LIBRARY</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.7.</span></p>
</div>
<p>Matlab matrix library.  Available only if the component <code class="docutils literal notranslate"><span class="pre">MAT_LIBRARY</span></code>
is requested.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_ENGINE_LIBRARY</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.13.</span></p>
</div>
<p>Matlab C++ engine library, always available for MATLAB R2018a and newer.
Available for MCR installations if provided by MCR.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_DATAARRAY_LIBRARY</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.13.</span></p>
</div>
<p>Matlab C++ data array library, always available for MATLAB R2018a and
newer.  Available for MCR installations if provided by MCR.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_LIBRARIES</span></code></dt><dd><p>The whole set of libraries of MATLAB.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_MEX_COMPILER</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>The MEX compiler of MATLAB.  Currently not used.  Available only if the
component <code class="docutils literal notranslate"><span class="pre">MEX_COMPILER</span></code> is requested.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_MCC_COMPILER</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.13.</span></p>
</div>
<p>The mcc compiler of MATLAB.  Included with the MATLAB Compiler add-on.
Available only if the component <code class="docutils literal notranslate"><span class="pre">MCC_COMPILER</span></code> is requested.</p>
</dd>
</dl>
</section>
<section id="cache-variables">
<h2>Cache Variables<a class="headerlink" href="#cache-variables" title="Link to this heading">¶</a></h2>
<p>The following cache variables may also be set:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_MEX_EXTENSION</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>The extension of the MEX files for the current platform (given by MATLAB).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_ROOT_DIR</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>The location of the root of the MATLAB installation found.  If this value
is changed by the user, the result variables are recomputed.</p>
</dd>
</dl>
</section>
<section id="input-variables">
<h2>Input Variables<a class="headerlink" href="#input-variables" title="Link to this heading">¶</a></h2>
<p>Users or projects may set the following variables to configure the module
behavior before calling <code class="docutils literal notranslate"><span class="pre">find_package(Matlab)</span></code>:</p>
<dl>
<dt><span class="target" id="index-0-variable:&lt;PackageName&gt;_ROOT"></span><a class="reference internal" href="../variable/PackageName_ROOT.html#variable:&lt;PackageName&gt;_ROOT" title="&lt;PackageName&gt;_ROOT"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">Matlab_ROOT</span></code></a></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.25.</span></p>
</div>
<p>Default value for the <code class="docutils literal notranslate"><span class="pre">Matlab_ROOT_DIR</span></code> variable, the root of the
MATLAB installation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Matlab_ROOT_DIR</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>The root folder of the MATLAB installation.  If set before the call to
<span class="target" id="index-5-command:find_package"></span><a class="reference internal" href="../command/find_package.html#command:find_package" title="find_package"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">find_package()</span></code></a>, the module will look for the components in that
path.  If not set, then an automatic search of MATLAB will be performed.
If set, it should point to a valid version of MATLAB.</p>
<p>This variable may be specified in order to give the path of the desired
MATLAB version.  Otherwise, the behavior is platform specific:</p>
<ul class="simple">
<li><p>Windows: The installed versions of MATLAB/MCR are retrieved from the
Windows registry.  The <code class="docutils literal notranslate"><span class="pre">REGISTRY_VIEW</span></code> argument may optionally be
specified to manually control whether 32bit or 64bit versions shall be
searched for.</p></li>
<li><p>macOS: The installed versions of MATLAB/MCR are given by the MATLAB
default installation paths under <code class="docutils literal notranslate"><span class="pre">$HOME/Applications</span></code> and
<code class="docutils literal notranslate"><span class="pre">/Applications</span></code>.  If no such application is found, it falls back to
the one that might be accessible from the <code class="docutils literal notranslate"><span class="pre">PATH</span></code>.</p></li>
<li><p>Unix: The desired MATLAB should be accessible from the <code class="docutils literal notranslate"><span class="pre">PATH</span></code>.  This
does not work for MCR installation and <code class="docutils literal notranslate"><span class="pre">Matlab_ROOT_DIR</span></code> should be
specified on this platform.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MATLAB_FIND_DEBUG</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>If set to a boolean true, additional debug information is outputted to
the console, such as the lookup of MATLAB and the intermediate
configuration steps.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MATLAB_ADDITIONAL_VERSIONS</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>If set, it specifies additional versions of MATLAB for the automatic
retrieval of the installed versions that may be handled and looked for.</p>
<p>The mapping of the release names and the version of MATLAB is performed
by defining pairs (name, version).  The variable should be a list of
strings, organized by pairs of release name and versions, such as
follows:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span>
<span class="w">  </span><span class="no">MATLAB_ADDITIONAL_VERSIONS</span>
<span class="w">    </span><span class="s">&quot;release_name1=corresponding_version1&quot;</span>
<span class="w">    </span><span class="s">&quot;release_name2=corresponding_version2&quot;</span>
<span class="w">    </span><span class="c"># ...</span>
<span class="nf">)</span>

<span class="nf">find_package(</span><span class="nb">Matlab</span><span class="nf">)</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">set(</span>
<span class="w">  </span><span class="no">MATLAB_ADDITIONAL_VERSIONS</span>
<span class="w">    </span><span class="s">&quot;R2013b=8.2&quot;</span>
<span class="w">    </span><span class="s">&quot;R2013a=8.1&quot;</span>
<span class="w">    </span><span class="s">&quot;R2012b=8.0&quot;</span>
<span class="w">    </span><span class="c"># ...</span>
<span class="nf">)</span>

<span class="nf">find_package(</span><span class="nb">Matlab</span><span class="nf">)</span>
</pre></div>
</div>
<p>The order of entries in this list matters when several versions of MATLAB
are installed.  The priority is set according to the ordering in this
list.</p>
</dd>
</dl>
</section>
<section id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Link to this heading">¶</a></h2>
<p>This module provides the following commands:</p>
<ul class="simple">
<li><p><span class="target" id="index-1-command:matlab_get_version_from_release_name"></span><a class="reference internal" href="#command:matlab_get_version_from_release_name" title="matlab_get_version_from_release_name"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_get_version_from_release_name()</span></code></a></p></li>
<li><p><span class="target" id="index-2-command:matlab_get_release_name_from_version"></span><a class="reference internal" href="#command:matlab_get_release_name_from_version" title="matlab_get_release_name_from_version"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_get_release_name_from_version()</span></code></a></p></li>
<li><p><span class="target" id="index-0-command:matlab_get_version_from_matlab_run"></span><a class="reference internal" href="#command:matlab_get_version_from_matlab_run" title="matlab_get_version_from_matlab_run"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_get_version_from_matlab_run()</span></code></a></p></li>
<li><p><span class="target" id="index-1-command:matlab_extract_all_installed_versions_from_registry"></span><a class="reference internal" href="#command:matlab_extract_all_installed_versions_from_registry" title="matlab_extract_all_installed_versions_from_registry"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_extract_all_installed_versions_from_registry()</span></code></a></p></li>
<li><p><span class="target" id="index-1-command:matlab_get_all_valid_matlab_roots_from_registry"></span><a class="reference internal" href="#command:matlab_get_all_valid_matlab_roots_from_registry" title="matlab_get_all_valid_matlab_roots_from_registry"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_get_all_valid_matlab_roots_from_registry()</span></code></a></p></li>
<li><p><span class="target" id="index-0-command:matlab_add_mex"></span><a class="reference internal" href="#command:matlab_add_mex" title="matlab_add_mex"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_add_mex()</span></code></a></p></li>
<li><p><span class="target" id="index-0-command:matlab_get_mex_suffix"></span><a class="reference internal" href="#command:matlab_get_mex_suffix" title="matlab_get_mex_suffix"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_get_mex_suffix()</span></code></a></p></li>
<li><p><span class="target" id="index-0-command:matlab_add_unit_test"></span><a class="reference internal" href="#command:matlab_add_unit_test" title="matlab_add_unit_test"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_add_unit_test()</span></code></a></p></li>
</ul>
<dl class="cmake command">
<dt class="sig sig-object cmake" id="command:matlab_get_version_from_release_name">
<span class="sig-name descname"><span class="pre">matlab_get_version_from_release_name</span></span><a class="headerlink" href="#command:matlab_get_version_from_release_name" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Returns the version of MATLAB from a release name:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">matlab_get_version_from_release_name(</span><span class="nv">&lt;release-name&gt;</span><span class="w"> </span><span class="nv">&lt;version-var&gt;</span><span class="nf">)</span>
</pre></div>
</div>
<p>The arguments are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;release-name&gt;</span></code></dt><dd><p>Input release name string (e.g. <code class="docutils literal notranslate"><span class="pre">R2023b</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;version-var&gt;</span></code></dt><dd><p>The name of the variable in which to store the version of MATLAB.  The
output result is e.g. <code class="docutils literal notranslate"><span class="pre">23.2.0</span></code>.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command provides correct versions mappings for MATLAB but not MCR.</p>
</div>
</dd></dl>

<dl class="cmake command">
<dt class="sig sig-object cmake" id="command:matlab_get_release_name_from_version">
<span class="sig-name descname"><span class="pre">matlab_get_release_name_from_version</span></span><a class="headerlink" href="#command:matlab_get_release_name_from_version" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Returns the release name from the version of MATLAB:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">matlab_get_release_name_from_version(</span><span class="nv">&lt;version&gt;</span><span class="w"> </span><span class="nv">&lt;release-name-var&gt;</span><span class="nf">)</span>
</pre></div>
</div>
<p>The arguments are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;version&gt;</span></code></dt><dd><p>Input MATLAB version string (e.g. <code class="docutils literal notranslate"><span class="pre">23.2.0</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;release-name-var&gt;</span></code></dt><dd><p>The name of the variable in which to store the MATLAB release name.  The
output result is e.g. <code class="docutils literal notranslate"><span class="pre">R2023b</span></code>.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command provides correct version mappings for MATLAB but not MCR.</p>
</div>
</dd></dl>

<dl class="cmake command">
<dt class="sig sig-object cmake" id="command:matlab_get_version_from_matlab_run">
<span class="sig-name descname"><span class="pre">matlab_get_version_from_matlab_run</span></span><a class="headerlink" href="#command:matlab_get_version_from_matlab_run" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Runs the specified MATLAB program and extracts the version of MATLAB/MCR,
given the full directory of the MATLAB/MCR installation path:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">matlab_get_version_from_matlab_run(</span><span class="nv">&lt;matlab-binary&gt;</span><span class="w"> </span><span class="nv">&lt;matlab-versions-var&gt;</span><span class="nf">)</span>
</pre></div>
</div>
<p>The arguments are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;matlab-binary&gt;</span></code></dt><dd><p>The path to the <code class="docutils literal notranslate"><span class="pre">matlab</span></code> binary executable.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;matlab-versions-var&gt;</span></code></dt><dd><p>The name of the variable in which a list of extracted MATLAB versions
are stored.</p>
</dd>
</dl>
<p>If the path provided for the MATLAB installation points to an MCR
installation, the version is extracted from the installed files.</p>
</dd></dl>

<dl class="cmake command">
<dt class="sig sig-object cmake" id="command:matlab_extract_all_installed_versions_from_registry">
<span class="sig-name descname"><span class="pre">matlab_extract_all_installed_versions_from_registry</span></span><a class="headerlink" href="#command:matlab_extract_all_installed_versions_from_registry" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Parses the Windows registry and finds all installed MATLAB versions:</p>
<dl class="cmake signature">
<dt class="sig sig-object cmake" id="matlab-extract-all-installed-versions-from-registry-keyword">
<span class="code cmake highlight sig-name descname"><span class="nf"><span class="pre">matlab_extract_all_installed_versions_from_registry(</span></span><span class="nv"><span class="pre">&lt;versions-var&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">[</span></span><span class="no"><span class="pre">REGISTRY_VIEW</span></span><span class="nbsp"> </span><span class="nv"><span class="pre">&lt;view&gt;</span></span><span class="p"><span class="pre">]</span></span><span class="nf"><span class="pre">)</span></span></span><a class="headerlink" href="#matlab-extract-all-installed-versions-from-registry-keyword" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>The arguments are:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;versions-var&gt;</span></code></dt><dd><p>The name of the variable in which to store the list of all MATLAB
versions found.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">REGISTRY_VIEW</span> <span class="pre">&lt;view&gt;</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.30.</span></p>
</div>
<p>Optional registry view argument that provides a more precise interface
on how to interact with the Windows Registry.  The argument is passed
(or omitted) to <span class="target" id="index-0-command:cmake_host_system_information"></span><a class="reference internal" href="../command/cmake_host_system_information.html#command:cmake_host_system_information" title="cmake_host_system_information"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">cmake_host_system_information()</span></code></a> without
further checks or modification.  For example, <code class="docutils literal notranslate"><span class="pre">&lt;view&gt;</span></code> value can be
one of <code class="docutils literal notranslate"><span class="pre">64</span></code>, <code class="docutils literal notranslate"><span class="pre">32</span></code>, <code class="docutils literal notranslate"><span class="pre">64_32</span></code>, <code class="docutils literal notranslate"><span class="pre">32_64</span></code>, <code class="docutils literal notranslate"><span class="pre">HOST</span></code>, <code class="docutils literal notranslate"><span class="pre">TARGET</span></code>,
<code class="docutils literal notranslate"><span class="pre">BOTH</span></code>.</p>
</dd>
</dl>
<p>The old signature is:</p>
<dl class="cmake signature">
<dt class="sig sig-object cmake" id="matlab-extract-all-installed-versions-from-registry-positional">
<span class="code cmake highlight sig-name descname"><span class="nf"><span class="pre">matlab_extract_all_installed_versions_from_registry(</span></span><span class="nv"><span class="pre">&lt;win64&gt;</span></span><span class="w"> </span><span class="nv"><span class="pre">&lt;versions-var&gt;</span></span><span class="nf"><span class="pre">)</span></span></span><a class="headerlink" href="#matlab-extract-all-installed-versions-from-registry-positional" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>The arguments are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;win64&gt;</span></code></dt><dd><p>Boolean whether to search for the 64-bit version of MATLAB.  If set
to boolean true, 64-bit registry view will be searched.  If set to
boolean false, 32-bit registry view will be searched.  For finer
control, use the above signature.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;versions-var&gt;</span></code></dt><dd><p>The name of the variable in which to store the list of all MATLAB
versions found.</p>
</dd>
</dl>
<p>This command is available on Windows only.  The part of the registry
parsed is dependent on the host processor.</p>
<p>The returned list contains all versions under
<code class="docutils literal notranslate"><span class="pre">HKLM\SOFTWARE\Mathworks\MATLAB</span></code>,
<code class="docutils literal notranslate"><span class="pre">HKLM\SOFTWARE\Mathworks\MATLAB</span> <span class="pre">Runtime</span></code> and
<code class="docutils literal notranslate"><span class="pre">HKLM\SOFTWARE\Mathworks\MATLAB</span> <span class="pre">Compiler</span> <span class="pre">Runtime</span></code> or an empty list in
case an error occurred (or nothing found).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only the versions are provided.  No check is made over the existence of
the installation referenced in the registry.</p>
</div>
</dd></dl>

<dl class="cmake command">
<dt class="sig sig-object cmake" id="command:matlab_get_all_valid_matlab_roots_from_registry">
<span class="sig-name descname"><span class="pre">matlab_get_all_valid_matlab_roots_from_registry</span></span><a class="headerlink" href="#command:matlab_get_all_valid_matlab_roots_from_registry" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Returns all the possible MATLAB or MCR paths, according to a previously
given list:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">matlab_get_all_valid_matlab_roots_from_registry(</span>
<span class="w">  </span><span class="nv">&lt;matlab-versions&gt;</span>
<span class="w">  </span><span class="nv">&lt;matlab-roots-var&gt;</span>
<span class="w">  </span><span class="p">[</span><span class="no">REGISTRY_VIEW</span><span class="w"> </span><span class="nv">&lt;view&gt;</span><span class="p">]</span>
<span class="nf">)</span>
</pre></div>
</div>
<p>This command populates the MATLAB root with valid versions of MATLAB or
MATLAB Runtime (MCR) and is mainly useful for the searching of all
possible MATLAB installations.  Only the existing/accessible paths are
kept.</p>
<p>The arguments are:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;matlab-versions&gt;</span></code></dt><dd><p>A <a class="reference internal" href="../manual/cmake-language.7.html#cmake-language-lists"><span class="std std-ref">semicolon-separated list</span></a> of each of the
MATLAB or MCR installations.  Specify it as a single string value.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;matlab-roots-var&gt;</span></code></dt><dd><p>The name of the variable in which to store a list of locations of each
of the MATLAB or MCR installations.</p>
<p>The value of this variable is organized in triplets
<code class="docutils literal notranslate"><span class="pre">(type,version_number,matlab_root_path)</span></code>, where <code class="docutils literal notranslate"><span class="pre">type</span></code> indicates
either <code class="docutils literal notranslate"><span class="pre">MATLAB</span></code> or <code class="docutils literal notranslate"><span class="pre">MCR</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">REGISTRY_VIEW</span> <span class="pre">&lt;view&gt;</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.30.</span></p>
</div>
<p>Optional registry view argument that provides a more precise interface
on how to interact with the Windows Registry.  The argument is passed
(or omitted) to <span class="target" id="index-1-command:cmake_host_system_information"></span><a class="reference internal" href="../command/cmake_host_system_information.html#command:cmake_host_system_information" title="cmake_host_system_information"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">cmake_host_system_information()</span></code></a> without
further checks or modification.  For example, <code class="docutils literal notranslate"><span class="pre">&lt;view&gt;</span></code> value can be
one of <code class="docutils literal notranslate"><span class="pre">64</span></code>, <code class="docutils literal notranslate"><span class="pre">32</span></code>, <code class="docutils literal notranslate"><span class="pre">64_32</span></code>, <code class="docutils literal notranslate"><span class="pre">32_64</span></code>, <code class="docutils literal notranslate"><span class="pre">HOST</span></code>, <code class="docutils literal notranslate"><span class="pre">TARGET</span></code>,
<code class="docutils literal notranslate"><span class="pre">BOTH</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="cmake command">
<dt class="sig sig-object cmake" id="command:matlab_add_mex">
<span class="sig-name descname"><span class="pre">matlab_add_mex</span></span><a class="headerlink" href="#command:matlab_add_mex" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Adds a target that compiles MATLAB MEX target file:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">matlab_add_mex(</span>
<span class="w">  </span><span class="no">NAME</span><span class="w"> </span><span class="nv">&lt;name&gt;</span>
<span class="w">  </span><span class="p">[</span><span class="no">EXECUTABLE</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="no">MODULE</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="no">SHARED</span><span class="p">]</span>
<span class="w">  </span><span class="no">SRC</span><span class="w"> </span><span class="nv">&lt;sources&gt;...</span>
<span class="w">  </span><span class="p">[</span><span class="no">OUTPUT_NAME</span><span class="w"> </span><span class="nv">&lt;output-name&gt;</span><span class="p">]</span>
<span class="w">  </span><span class="p">[</span><span class="no">DOCUMENTATION</span><span class="w"> </span><span class="nv">&lt;file&gt;</span><span class="p">]</span>
<span class="w">  </span><span class="p">[</span><span class="no">LINK_TO</span><span class="w"> </span><span class="nv">&lt;targets&gt;...</span><span class="p">]</span>
<span class="w">  </span><span class="p">[</span><span class="nb">R2017b</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nb">R2018a</span><span class="p">]</span>
<span class="w">  </span><span class="p">[</span><span class="no">EXCLUDE_FROM_ALL</span><span class="p">]</span>
<span class="w">  </span><span class="p">[</span><span class="no">NO_IMPLICIT_LINK_TO_MATLAB_LIBRARIES</span><span class="p">]</span>
<span class="w">  </span><span class="p">[...]</span>
<span class="nf">)</span>
</pre></div>
</div>
<p>This commands compiles the given sources with the current tool-chain in
order to produce a MEX file.  The final name of the produced output may
be specified, as well as additional link libraries, and a documentation
entry for the MEX file.  Remaining arguments of the call are passed to
the <span class="target" id="index-0-command:add_library"></span><a class="reference internal" href="../command/add_library.html#command:add_library" title="add_library"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">add_library()</span></code></a> or <span class="target" id="index-0-command:add_executable"></span><a class="reference internal" href="../command/add_executable.html#command:add_executable" title="add_executable"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">add_executable()</span></code></a> command.</p>
<p>The arguments are:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">NAME</span> <span class="pre">&lt;name&gt;</span></code></dt><dd><p>The name of the target.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">SRC</span> <span class="pre">&lt;sources&gt;...</span></code></dt><dd><p>One or more source files to be compiled.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">LINK_TO</span> <span class="pre">&lt;targets&gt;...</span></code></dt><dd><p>A list of additional link dependencies.  The target links to <code class="docutils literal notranslate"><span class="pre">libmex</span></code>
and <code class="docutils literal notranslate"><span class="pre">libmx</span></code> by default, unless the
<code class="docutils literal notranslate"><span class="pre">NO_IMPLICIT_LINK_TO_MATLAB_LIBRARIES</span></code> option is passed.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">OUTPUT_NAME</span> <span class="pre">&lt;output-name&gt;</span></code></dt><dd><p>If given, overrides the default name.  The default name is the name of
the target without any prefix and with <code class="docutils literal notranslate"><span class="pre">Matlab_MEX_EXTENSION</span></code> suffix.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span> <span class="pre">&lt;file&gt;</span></code></dt><dd><p>If given, the <code class="docutils literal notranslate"><span class="pre">&lt;file&gt;</span></code> will be considered as being the documentation
file for the MEX file.  This file is copied into the same folder without
any processing, with the same name as the final MEX file, and with
extension <code class="docutils literal notranslate"><span class="pre">.m</span></code>.  In that case, typing <code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">&lt;name&gt;</span></code> in MATLAB
prints the documentation contained in this file.</p>
<p>The documentation file is not processed and should be in the following
format:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% This is the documentation</span>
<span class="k">function</span><span class="w"> </span>ret<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">mex_target_output_name</span><span class="p">(</span>input1<span class="p">)</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">R2017b</span></code> or <code class="docutils literal notranslate"><span class="pre">R2018a</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.14.</span></p>
</div>
<p>May be given to specify the version of the C API
to use: <code class="docutils literal notranslate"><span class="pre">R2017b</span></code> specifies the traditional (separate complex) C API,
and corresponds to the <code class="docutils literal notranslate"><span class="pre">-R2017b</span></code> flag for the <code class="docutils literal notranslate"><span class="pre">mex</span></code> command.
<code class="docutils literal notranslate"><span class="pre">R2018a</span></code> specifies the new interleaved complex C API, and corresponds
to the <code class="docutils literal notranslate"><span class="pre">-R2018a</span></code> flag for the <code class="docutils literal notranslate"><span class="pre">mex</span></code> command.  Ignored for MATLAB
versions prior to R2018a.  Defaults to <code class="docutils literal notranslate"><span class="pre">R2017b</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MODULE</span></code> or <code class="docutils literal notranslate"><span class="pre">SHARED</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.7.</span></p>
</div>
<p>May be given to specify the type of library to be created.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EXECUTABLE</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.7.</span></p>
</div>
<p>May be given to create an executable instead of a library.  If no type
is given explicitly, the default type is <code class="docutils literal notranslate"><span class="pre">SHARED</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">EXCLUDE_FROM_ALL</span></code></dt><dd><p>This option has the same meaning as the <span class="target" id="index-0-prop_tgt:EXCLUDE_FROM_ALL"></span><a class="reference internal" href="../prop_tgt/EXCLUDE_FROM_ALL.html#prop_tgt:EXCLUDE_FROM_ALL" title="EXCLUDE_FROM_ALL"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">EXCLUDE_FROM_ALL</span></code></a>
target property and is forwarded to the <span class="target" id="index-1-command:add_library"></span><a class="reference internal" href="../command/add_library.html#command:add_library" title="add_library"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">add_library()</span></code></a>, or
<span class="target" id="index-1-command:add_executable"></span><a class="reference internal" href="../command/add_executable.html#command:add_executable" title="add_executable"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">add_executable()</span></code></a> command.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NO_IMPLICIT_LINK_TO_MATLAB_LIBRARIES</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.24.</span></p>
</div>
<p>This option permits to disable the automatic linking of MATLAB
libraries, so that only the libraries that are actually required can be
linked via the <code class="docutils literal notranslate"><span class="pre">LINK_TO</span></code> option.</p>
</dd>
</dl>
</dd></dl>

<dl class="cmake command">
<dt class="sig sig-object cmake" id="command:matlab_get_mex_suffix">
<span class="sig-name descname"><span class="pre">matlab_get_mex_suffix</span></span><a class="headerlink" href="#command:matlab_get_mex_suffix" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Returns the extension to be used for the MEX files (the suffix):</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">matlab_get_mex_suffix(</span><span class="nv">&lt;matlab-root&gt;</span><span class="w"> </span><span class="nv">&lt;mex-suffix-var&gt;</span><span class="nf">)</span>
</pre></div>
</div>
<p>The arguments are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;matlab-root&gt;</span></code></dt><dd><p>The root of MATLAB/MCR installation.  For example, the value of the
<code class="docutils literal notranslate"><span class="pre">Matlab_ROOT_DIR</span></code> variable.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;mex-suffix-var&gt;</span></code></dt><dd><p>The name of the variable in which the suffix will be returned.</p>
</dd>
</dl>
<p>This command is platform and architecture dependent.  It should not be
called before the appropriate MATLAB root has been found.</p>
</dd></dl>

<dl class="cmake command">
<dt class="sig sig-object cmake" id="command:matlab_add_unit_test">
<span class="sig-name descname"><span class="pre">matlab_add_unit_test</span></span><a class="headerlink" href="#command:matlab_add_unit_test" title="Link to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3.</span></p>
</div>
<p>Adds a MATLAB unit test file to the project's test set of CMake/CTest:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">matlab_add_unit_test(</span>
<span class="w">  </span><span class="no">NAME</span><span class="w"> </span><span class="nv">&lt;name&gt;</span>
<span class="w">  </span><span class="no">UNITTEST_FILE</span><span class="w"> </span><span class="nv">&lt;matlab-file-containing-unittest.m&gt;</span>
<span class="w">  </span><span class="p">[</span><span class="no">CUSTOM_TEST_COMMAND</span><span class="w"> </span><span class="nv">&lt;matlab-command-to-run-as-test&gt;</span><span class="p">]</span>
<span class="w">  </span><span class="p">[</span><span class="no">UNITTEST_PRECOMMAND</span><span class="w"> </span><span class="nv">&lt;matlab-command-to-run&gt;</span><span class="p">]</span>
<span class="w">  </span><span class="p">[</span><span class="no">TIMEOUT</span><span class="w"> </span><span class="nv">&lt;timeout&gt;</span><span class="p">]</span>
<span class="w">  </span><span class="p">[</span><span class="no">ADDITIONAL_PATH</span><span class="w"> </span><span class="nv">&lt;paths&gt;...</span><span class="p">]</span>
<span class="w">  </span><span class="p">[</span><span class="no">MATLAB_ADDITIONAL_STARTUP_OPTIONS</span><span class="w"> </span><span class="nv">&lt;options&gt;...</span><span class="p">]</span>
<span class="w">  </span><span class="p">[</span><span class="no">TEST_ARGS</span><span class="w"> </span><span class="nv">&lt;args&gt;...</span><span class="p">]</span>
<span class="w">  </span><span class="p">[</span><span class="no">NO_UNITTEST_FRAMEWORK</span><span class="p">]</span>
<span class="w">  </span><span class="p">[</span><span class="no">WORKING_DIRECTORY</span><span class="w"> </span><span class="nv">&lt;dir&gt;</span><span class="p">]</span>
<span class="nf">)</span>
</pre></div>
</div>
<p>By default, the MATLAB unit test framework will be used (&gt;= 2013a) to run
the added MATLAB script, but regular <code class="docutils literal notranslate"><span class="pre">.m</span></code> files returning an exit code
can be used as well (0 indicating a success).</p>
<p>This command requires the component <code class="docutils literal notranslate"><span class="pre">MAIN_PROGRAM</span></code> and hence is not
available for an MCR installation.</p>
<p>The unit test uses the MATLAB unittest framework (default, available
starting MATLAB 2013b+) except if the option <code class="docutils literal notranslate"><span class="pre">NO_UNITTEST_FRAMEWORK</span></code>
is given.</p>
<p>The command expects one MATLAB test script file to be given.
In the case <code class="docutils literal notranslate"><span class="pre">NO_UNITTEST_FRAMEWORK</span></code> is given, the unittest script file
should contain the script to be run, plus an exit command with the exit
value.  This exit value will be passed to the ctest framework (0 success,
non 0 failure).  Additional arguments accepted by <span class="target" id="index-0-command:add_test"></span><a class="reference internal" href="../command/add_test.html#command:add_test" title="add_test"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">add_test()</span></code></a> can
be passed through <code class="docutils literal notranslate"><span class="pre">TEST_ARGS</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">CONFIGURATIONS</span> <span class="pre">&lt;config&gt;</span> <span class="pre">...</span></code>).</p>
<p>The arguments are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">NAME</span> <span class="pre">&lt;name&gt;</span></code></dt><dd><p>The name of the unittest in ctest.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">UNITTEST_FILE</span> <span class="pre">&lt;matlab-file-containing-unittest.m&gt;</span></code></dt><dd><p>The MATLAB unittest file.  Its path will be automatically added to the
MATLAB path.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CUSTOM_TEST_COMMAND</span> <span class="pre">&lt;matlab-command-to-run-as-test&gt;</span></code></dt><dd><p>MATLAB script command to run as the test.
If this is not set, then the following is run:
<code class="docutils literal notranslate"><span class="pre">runtests('matlab_file_name'),</span> <span class="pre">exit(max([ans(1,:).Failed]))</span></code> where
<code class="docutils literal notranslate"><span class="pre">matlab_file_name</span></code> is the <code class="docutils literal notranslate"><span class="pre">UNITTEST_FILE</span></code> without the extension.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">UNITTEST_PRECOMMAND</span> <span class="pre">&lt;matlab-command-to-run&gt;</span></code></dt><dd><p>MATLAB script command to be ran before the file
containing the test (e.g. GPU device initialization based on CMake
variables).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TIMEOUT</span> <span class="pre">&lt;timeout&gt;</span></code></dt><dd><p>The test timeout in seconds.  Defaults to 180 seconds as the
MATLAB unit test may hang.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ADDITIONAL_PATH</span> <span class="pre">&lt;paths&gt;...</span></code></dt><dd><p>A list of paths to add to the MATLAB path prior to running the unit
test.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MATLAB_ADDITIONAL_STARTUP_OPTIONS</span> <span class="pre">&lt;options&gt;</span></code></dt><dd><p>A list of additional option in order to run MATLAB from the command
line.  The <code class="docutils literal notranslate"><span class="pre">-nosplash</span></code>, <code class="docutils literal notranslate"><span class="pre">-nodesktop</span></code>, and <code class="docutils literal notranslate"><span class="pre">-nodisplay</span></code> options
are always added automatically.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">TEST_ARGS</span> <span class="pre">&lt;args&gt;...</span></code></dt><dd><p>Additional options provided to the add_test command.  These
options are added to the default options (e.g. <code class="docutils literal notranslate"><span class="pre">CONFIGURATIONS</span> <span class="pre">Release</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NO_UNITTEST_FRAMEWORK</span></code></dt><dd><p>When set, indicates that the test should not
use the unittest framework of MATLAB (available for versions &gt;= R2013a).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">WORKING_DIRECTORY</span> <span class="pre">&lt;dir&gt;</span></code></dt><dd><p>This will be the working directory for the test.  If specified it will
also be the output directory used for the log file of the test run.
If not specified the temporary directory <code class="docutils literal notranslate"><span class="pre">${CMAKE_BINARY_DIR}/Matlab</span></code>
will be used as the working directory and the log location.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="known-issues">
<h2>Known Issues<a class="headerlink" href="#known-issues" title="Link to this heading">¶</a></h2>
<dl>
<dt><strong>Symbol clash in a MEX target</strong></dt><dd><p>By default, every symbol inside a MEX
file defined with the command <span class="target" id="index-1-command:matlab_add_mex"></span><a class="reference internal" href="#command:matlab_add_mex" title="matlab_add_mex"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">matlab_add_mex()</span></code></a> have hidden
visibility, except for the entry point.  This is the default behavior of
the MEX compiler, which lowers the risk of symbol collision between the
libraries shipped with MATLAB, and the libraries to which the MEX file is
linking to.  This is also the default on Windows platforms.</p>
<p>However, this is not sufficient in certain case, where for instance the
MEX file is linking against libraries that are already loaded by MATLAB,
even if those libraries have different SONAMES.
A possible solution is to hide the symbols of the libraries to which the
MEX target is linking to.  This can be achieved in GNU GCC compilers with
the linker option <code class="docutils literal notranslate"><span class="pre">-Wl,--exclude-libs,ALL</span></code>.</p>
</dd>
<dt><strong>Tests using GPU resources</strong></dt><dd><p>In case the MEX file is using the GPU and in order to be able to run unit
tests on this MEX file, the GPU resources should be properly released by
MATLAB.  A possible solution is to make MATLAB aware of the use of the
GPU resources in the session, which can be performed by a command, such
as <code class="docutils literal notranslate"><span class="pre">D</span> <span class="pre">=</span> <span class="pre">gpuDevice()</span></code>, at the beginning of the test script (or via a
fixture).</p>
</dd>
</dl>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h2>
<p>Finding MATLAB and linking imported target to a project target:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">find_package(</span><span class="nb">Matlab</span><span class="nf">)</span>
<span class="nf">target_link_libraries(</span><span class="nb">example</span><span class="w"> </span><span class="no">PRIVATE</span><span class="w"> </span><span class="nb">Matlab</span><span class="o">::</span><span class="nb">mx</span><span class="nf">)</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3>Table of Contents</h3>
    <ul>
<li><a class="reference internal" href="#">FindMatlab</a><ul>
<li><a class="reference internal" href="#components">Components</a><ul>
<li><a class="reference internal" href="#implicitly-found-components">Implicitly Found Components</a></li>
</ul>
</li>
<li><a class="reference internal" href="#imported-targets">Imported Targets</a></li>
<li><a class="reference internal" href="#result-variables">Result Variables</a></li>
<li><a class="reference internal" href="#cache-variables">Cache Variables</a></li>
<li><a class="reference internal" href="#input-variables">Input Variables</a></li>
<li><a class="reference internal" href="#commands">Commands</a></li>
<li><a class="reference internal" href="#known-issues">Known Issues</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="FindLua51.html"
                          title="previous chapter">FindLua51</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="FindMFC.html"
                          title="next chapter">FindMFC</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/module/FindMatlab.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="FindMFC.html" title="FindMFC"
             >next</a> |</li>
        <li class="right" >
          <a href="FindLua51.html" title="FindLua51"
             >previous</a> |</li>
  <li>
    <label class="sidebar-toggle" for="sidebar-check"></label>
  </li>
  <li class="rootlink">
    <img src="../_static/cmake-logo-16.png" width="16" height="16" alt=""/>
    <a href="https://cmake.org/">CMake 4.2.20251020-g4fe23c0</a>
    <span class="reldelim1"> &#187;</span>
  </li>
  <li>
    <a href="../index.html">Documentation</a> &#187;
  </li>

          <li class="nav-item nav-item-1"><a href="../manual/cmake-modules.7.html" >cmake-modules(7)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">FindMatlab</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2000-2025 Kitware, Inc. and Contributors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
<script type="text/javascript">
(function() {
  "use strict";
  const hide = () => document.getElementById("sidebar-check").checked = false;
  addEventListener("keydown", e => (e.key === "Escape") && hide());
  addEventListener("click", e => (e.target.tagName === "A") && hide());
  addEventListener("hashchange", hide)
})();
</script>
  </body>
</html>